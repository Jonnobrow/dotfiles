" Gruvbox Colour Scheme
colourscheme --url https://raw.githubusercontent.com/bezmi/base16-tridactyl/master/base16-gruvbox-dark-soft.css base16-gruvbox-dark-soft

" Good defaults
set allowautofocus false
set hintchars fdsqjklmrezauiopwxcvghtybn
set searchengine ddg
set tabopencontaineraware true
set visualenterauto false
set wordpattern [^\s\/]+
set newtab https://jonnobrow.github.io/startpage

" Disable all searchurls
jsb Object.keys(tri.config.get("searchurls")).reduce((prev, u) => prev.catch(()=>{}).then(_ => tri.excmds.setnull("searchurls." + u)), Promise.resolve())
set searchurls.ddg https://duckduckgo.com/html?q=%s

" Binds
bind gd tabdetach
bind gD composite tabduplicate; tabdetach

" Redirects
autocmd DocStart ^http(s?)://www.reddit.com js tri.excmds.urlmodify("-t", "www", "old")
autocmd DocStart ^http(s?)://www.amazon.co.uk js tri.excmds.urlmodify("-t", "www", "smile")


" Editor that removes tmp
set editorcmd foot -T foot-float sh -c 'nvim %f'
alias editor_rm composite editor | jsb -p tri.native.run(`\rm -f '${JS_ARG[0]}'`)
bind --mode=insert <C-i> editor_rm
bind --mode=input <C-i> editor_rm
