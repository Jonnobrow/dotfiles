[core]
  pager = delta
  excludesFile = "~/.config/git/ignore"

[interactive]
  diffFilter = delta --color-only

[commit]
    signoff = yes
    template = "~/.config/git/COMMITMSG"

[delta]
  features = side-by-side line-numbers decorations
  whitespace-error-style = 22 reverse

[delta "decorations"]
  commit-decoration-style = bold yellow box ul
  file-style = bold yellow ul
  file-decoration-style = none

[user]
	signingkey 		= {{ .gpg_keyid }}
	name	     		= {{ .name }}
	email	     		= {{ .email }}

[gpg]
	program    		= gpg2

[init]
	defaultBranch = main

[pull]
	rebase        = true

[alias]
	lg      = log --stat --pretty --graph --date=relative
    l       = log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr)%C(bold blue) -%an%Creset' --abbrev-commit
	c 		= commit
	cm 		= commit -m
	a 		= add
	s 		= status
    ignore  = "!gi() { curl -sL https://www.toptal.com/developers/gitignore/api/$@ ;}; gi"
    gplv3   = "!li() { curl -sL https://www.gnu.org/licenses/gpl-3.0.txt ; }; li"
    find = log --pretty=\"format:%Cgreen%H\n%s\n\n%b\" --name-status --grep
    cob = "!f() { git checkout main; git pull; git checkout -b $1; }; f"
    amend = commit --amend --no-edit
	ammend = amend
	cherrypick = cherry-pick

# define command which will be used when "nvim" is set as a merge tool
[mergetool "nvim"]
  cmd = nvim -f -c \"Gdiffsplit!\" \"$MERGED\"

[difftool "nvim"]
  cmd = nvim -f -c \"Gdiffsplit!\" \"$MERGED\"

[diff]
  compactionHeuristic = true
  mnemonicprefix = true

# set "nvim" as tool for merging
[merge]
	tool = vimdiff
[mergetool]
	prompt = true
[mergetool "vimdiff"]
	cmd = nvim -d $BASE $LOCAL $REMOTE $MERGED -c '$wincmd w' -c 'wincmd J'

[format]
  signOff = yes
# Send email commands
[sendemail]
  smtpserver = /usr/bin/msmtp
  smtpserveroption = -C
  smtpserveroption = /home/{{ .chezmoi.username }}/.config/msmtp/msmtprc
  smtpserveroption = -a
  smtpserveroption = mailbox
  annotate = yes

[status]
	submodulesummary = 1
[submodule]
	recurse = true

# vim: ft=ini tabstop=2
